<section class="wrapper">
	<div class="row">
	    <div class="col-lg-12 main-chart">
	      <div class="row">
	        <div class="col-lg-3 col-md-4 col-sm-4">
	          <h2>Pages</h2>
	        </div>
	        <div class="col-lg-9 col-md-8 col-sm-8">
	          <div class="btn-group pull-right" style="margin-top: 20px">
	            <button type="button" class="btn btn-default" ng-link="/article"><i class="fa fa-pencil" style="margin-right: 5px;"></i>  New article</button>
	            <button type="button" class="btn btn-default" ng-link="/pages"><i class="fa fa-list-alt" style="margin-right: 5px;"></i>  New page</button>
	            <button type="button" class="btn btn-default" ng-link="/user"><i class="fa fa-user" style="margin-right: 5px;"></i>  New user</button>
	          </div>
	        </div>
	      </div>

	      <div class="row mtbox">
	        <div class="col-md-12">
	          <form class="form-panel quick-post">
	            <h4 ng-show="pages.pageId == null">Add page</h4>
	            <h4 ng-show="pages.pageId != null">Edit page</h4>

	            <div class="row">
	            	<div class="col-md-9">
	            		<input ng-model="pages.title" type="text" placeholder="Page title ..." class="form-control"/>
	            	</div>
	            	<div class="col-md-3">
	            		<select ng-model="pages.currentLanguage" class="form-control select-page">
		                <option ng-repeat="language in pages.languages" value="{{language.code}}">{{language.name}}</option>
		              </select>
	            	</div>
	            </div>

	            
	            <button ng-click="pages.submitPageData(pages.pageId)" style="margin-top: 25px" class="btn btn-primary btn-sm"><i class="fa fa-save" style="margin-right: 5px;"></i> &nbsp {{pages.saveButtonTitle}}</button>
	          </form>
	        </div>
	      </div>

	      <script type="text/ng-template" id="nodes_renderer.html">
				  
				  	<div class="task-title angular-ui-tree-handle-page">
					  	<div class="row">
					  		<div ui-tree-handle class="col-md-2">
	        					<i class="fa fa-hand-o-up" style="margin-right: 5px"></i>&nbsp {{page.title[pages.currentLanguage]}}
	        			</div>
	        			<div class="col-md-2">
									{{page.author}}
	        			</div>
	        			<div class="col-md-2">
	        				{{page.date}}
	        			</div>
	        			<div class="col-md-2">
	        				{{page.articlesCount}}
	        			</div>
	        			<div class="col-md-2">
	        				<switch id="enabled" name="enabled" ng-model="page.published" class="green"></switch>
	        			</div>
	        			<div class="col-md-2">
        					<button ng-link="/pages/{{page.id}}" class="btn btn-primary btn-xs"><i class="fa fa-pencil"></i></button>
		            	<button ng-click="pages.deletePage(page.id)" class="btn btn-danger btn-xs"><i class="fa fa-trash-o "></i></button>
        				</div>
					  	</div>
					  </div>
				  		
				  <ul ui-tree-nodes="" ng-model="page.subPages" class="task-list" style="margin-bottom: 0px">
				    <li ng-repeat="page in page.subPages" ui-tree-node ng-include="'nodes_renderer.html'" class="list-info"></li>
				  </ul>
				</script>

				<div class="row mtbox">
	        <div class="col-md-12">
	        	<div class="content-panel">
	        		<h4><i class="fa fa-angle-right"></i> Pages</h4>
			        <hr>
	        		<div ui-tree id="tree-root" class="task-content panel-body">
	        			<div class="row" style="margin-bottom: 10px; padding-left: 20px;">
	        				<div class="col-md-2">
	        					<i class="fa fa-bullhorn"></i> Page Title
	        				</div>
	        				<div class="col-md-2">
	        					<i class="fa fa-user"></i> Author
	        				</div>
	        				<div class="col-md-2">
	        					<i class="fa fa-bookmark"></i> Date
	        				</div>
	        				<div class="col-md-2">
	        					<i class="fa fa-edit"></i> Articles
	        				</div>
	        				<div class="col-md-2">
	        					<i class="fa fa-edit"></i> Published
	        				</div>
	        			</div>
					      <ul ui-tree-nodes ng-model="pages.pages" class="task-list">
					        <li ng-repeat="page in pages.pages" ui-tree-node ng-include="'nodes_renderer.html'" class="list-info"></li>
					      </ul>
					    </div>
	        	</div>
	        </div>
	      </div>

	       <!-- <pre class="code">{{ pages.pages | json }}</pre> -->

	  </div>
	</div>
</section>